{"version":3,"sources":["uni-app:///pages/index/qqmap-wx-jssdk.js"],"names":["ERROR_CONF","KEY_ERR","KEY_ERR_MSG","PARAM_ERR","PARAM_ERR_MSG","SYSTEM_ERR","SYSTEM_ERR_MSG","WX_ERR_CODE","WX_OK_CODE","BASE_URL","URL_SEARCH","URL_SUGGESTION","URL_GET_GEOCODER","URL_CITY_LIST","URL_AREA_LIST","URL_DISTANCE","URL_DIRECTION","MODE","driving","transit","EARTH_RADIUS","Utils","safeAdd","x","y","lsw","msw","bitRotateLeft","num","cnt","md5cmn","q","a","b","s","t","md5ff","c","d","md5gg","md5hh","md5ii","binlMD5","len","i","olda","oldb","oldc","oldd","length","binl2rstr","input","output","length32","String","fromCharCode","rstr2binl","undefined","length8","charCodeAt","rstrMD5","rstrHMACMD5","key","data","bkey","ipad","opad","hash","concat","rstr2hex","hexTab","charAt","str2rstrUTF8","unescape","encodeURIComponent","rawMD5","hexMD5","rawHMACMD5","k","hexHMACMD5","md5","string","raw","getSig","requestParam","sk","feature","mode","sig","requestArr","Object","keys","sort","forEach","push","join","location2query","query","location","lat","lng","latitude","longitude","rad","Math","PI","getEndLocation","to","split","endLocation","parseFloat","getDistance","latFrom","lngFrom","latTo","lngTo","radLatFrom","radLatTo","distance","asin","sqrt","pow","sin","cos","round","toFixed","getWXLocation","success","fail","complete","wx","getLocation","type","getLocationParam","locationArr","polyfillParam","param","checkParamKeyEmpty","errconf","buildErrorConfig","checkKeyword","checkLocation","errCode","errMsg","status","message","handleData","searchResult","searchSimplify","id","title","address","category","tel","adcode","ad_info","city","district","province","suggestResult","suggestSimplify","reverseGeocoderResult","result","reverseGeocoderSimplify","address_component","nation","street","street_number","recommend","formatted_addresses","rough","pois","poisSimplify","geocoderResult","geocoderSimplify","address_components","level","provinceResult","cityResult","districtResult","districtByCity","calculateDistanceResult","elements","direction","routes","buildWxRequestConfig","options","that","header","method","res","statusCode","locationProcess","locationsuccess","locationfail","locationcomplete","QQMapWX","Error","keyword","orderby","page_size","page_index","address_format","filter","auto_extend","region","rectangle","boundary","request","url","region_fix","policy","get_subpois","coord_type","get_poi","poi_options","from","locationTo","duration","calculateResult","distanceResult","SET_URL_DIRECTION","from_poi","heading","speed","accuracy","road_type","to_poi","from_track","waypoints","plate_number","departure_time","module","exports"],"mappings":"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","file":"myPagesA/common/vendor.js","sourcesContent":["/**\r\n * 微信小程序JavaScriptSDK\r\n * \r\n * @version 1.2\r\n * @date 2019-03-06\r\n */\r\n\r\nvar ERROR_CONF = {\r\n    KEY_ERR: 311,\r\n    KEY_ERR_MSG: 'key格式错误',\r\n    PARAM_ERR: 310,\r\n    PARAM_ERR_MSG: '请求参数信息有误',\r\n    SYSTEM_ERR: 600,\r\n    SYSTEM_ERR_MSG: '系统错误',\r\n    WX_ERR_CODE: 1000,\r\n    WX_OK_CODE: 200\r\n};\r\nvar BASE_URL = 'https://apis.map.qq.com/ws/';\r\nvar URL_SEARCH = BASE_URL + 'place/v1/search';\r\nvar URL_SUGGESTION = BASE_URL + 'place/v1/suggestion';\r\nvar URL_GET_GEOCODER = BASE_URL + 'geocoder/v1/';\r\nvar URL_CITY_LIST = BASE_URL + 'district/v1/list';\r\nvar URL_AREA_LIST = BASE_URL + 'district/v1/getchildren';\r\nvar URL_DISTANCE = BASE_URL + 'distance/v1/';\r\nvar URL_DIRECTION = BASE_URL + 'direction/v1/';\r\nvar MODE = {\r\n  driving: 'driving',\r\n  transit: 'transit'\r\n};\r\nvar EARTH_RADIUS = 6378136.49;\r\nvar Utils = {\r\n  /**\r\n  * md5加密方法\r\n  * 版权所有©2011 Sebastian Tschan，https：//blueimp.net\r\n  */\r\n  safeAdd(x, y) {\r\n    var lsw = (x & 0xffff) + (y & 0xffff);\r\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\r\n    return (msw << 16) | (lsw & 0xffff);\r\n  },\r\n  bitRotateLeft(num, cnt) {\r\n    return (num << cnt) | (num >>> (32 - cnt));\r\n  },\r\n  md5cmn(q, a, b, x, s, t) {\r\n    return this.safeAdd(this.bitRotateLeft(this.safeAdd(this.safeAdd(a, q), this.safeAdd(x, t)), s), b);\r\n  },\r\n  md5ff(a, b, c, d, x, s, t) {\r\n    return this.md5cmn((b & c) | (~b & d), a, b, x, s, t);\r\n  },\r\n  md5gg(a, b, c, d, x, s, t) {\r\n    return this.md5cmn((b & d) | (c & ~d), a, b, x, s, t);\r\n  },\r\n  md5hh(a, b, c, d, x, s, t) {\r\n    return this.md5cmn(b ^ c ^ d, a, b, x, s, t);\r\n  },\r\n  md5ii(a, b, c, d, x, s, t) {\r\n    return this.md5cmn(c ^ (b | ~d), a, b, x, s, t);\r\n  },\r\n  binlMD5(x, len) {\r\n    /* append padding */\r\n    x[len >> 5] |= 0x80 << (len % 32);\r\n    x[((len + 64) >>> 9 << 4) + 14] = len;\r\n\r\n    var i;\r\n    var olda;\r\n    var oldb;\r\n    var oldc;\r\n    var oldd;\r\n    var a = 1732584193;\r\n    var b = -271733879;\r\n    var c = -1732584194;\r\n    var d = 271733878;\r\n\r\n    for (i = 0; i < x.length; i += 16) {\r\n      olda = a;\r\n      oldb = b;\r\n      oldc = c;\r\n      oldd = d;\r\n\r\n      a = this.md5ff(a, b, c, d, x[i], 7, -680876936);\r\n      d = this.md5ff(d, a, b, c, x[i + 1], 12, -389564586);\r\n      c = this.md5ff(c, d, a, b, x[i + 2], 17, 606105819);\r\n      b = this.md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\r\n      a = this.md5ff(a, b, c, d, x[i + 4], 7, -176418897);\r\n      d = this.md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\r\n      c = this.md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\r\n      b = this.md5ff(b, c, d, a, x[i + 7], 22, -45705983);\r\n      a = this.md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\r\n      d = this.md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\r\n      c = this.md5ff(c, d, a, b, x[i + 10], 17, -42063);\r\n      b = this.md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\r\n      a = this.md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\r\n      d = this.md5ff(d, a, b, c, x[i + 13], 12, -40341101);\r\n      c = this.md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\r\n      b = this.md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\r\n\r\n      a = this.md5gg(a, b, c, d, x[i + 1], 5, -165796510);\r\n      d = this.md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\r\n      c = this.md5gg(c, d, a, b, x[i + 11], 14, 643717713);\r\n      b = this.md5gg(b, c, d, a, x[i], 20, -373897302);\r\n      a = this.md5gg(a, b, c, d, x[i + 5], 5, -701558691);\r\n      d = this.md5gg(d, a, b, c, x[i + 10], 9, 38016083);\r\n      c = this.md5gg(c, d, a, b, x[i + 15], 14, -660478335);\r\n      b = this.md5gg(b, c, d, a, x[i + 4], 20, -405537848);\r\n      a = this.md5gg(a, b, c, d, x[i + 9], 5, 568446438);\r\n      d = this.md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\r\n      c = this.md5gg(c, d, a, b, x[i + 3], 14, -187363961);\r\n      b = this.md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\r\n      a = this.md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\r\n      d = this.md5gg(d, a, b, c, x[i + 2], 9, -51403784);\r\n      c = this.md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\r\n      b = this.md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\r\n\r\n      a = this.md5hh(a, b, c, d, x[i + 5], 4, -378558);\r\n      d = this.md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\r\n      c = this.md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\r\n      b = this.md5hh(b, c, d, a, x[i + 14], 23, -35309556);\r\n      a = this.md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\r\n      d = this.md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\r\n      c = this.md5hh(c, d, a, b, x[i + 7], 16, -155497632);\r\n      b = this.md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\r\n      a = this.md5hh(a, b, c, d, x[i + 13], 4, 681279174);\r\n      d = this.md5hh(d, a, b, c, x[i], 11, -358537222);\r\n      c = this.md5hh(c, d, a, b, x[i + 3], 16, -722521979);\r\n      b = this.md5hh(b, c, d, a, x[i + 6], 23, 76029189);\r\n      a = this.md5hh(a, b, c, d, x[i + 9], 4, -640364487);\r\n      d = this.md5hh(d, a, b, c, x[i + 12], 11, -421815835);\r\n      c = this.md5hh(c, d, a, b, x[i + 15], 16, 530742520);\r\n      b = this.md5hh(b, c, d, a, x[i + 2], 23, -995338651);\r\n\r\n      a = this.md5ii(a, b, c, d, x[i], 6, -198630844);\r\n      d = this.md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\r\n      c = this.md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\r\n      b = this.md5ii(b, c, d, a, x[i + 5], 21, -57434055);\r\n      a = this.md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\r\n      d = this.md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\r\n      c = this.md5ii(c, d, a, b, x[i + 10], 15, -1051523);\r\n      b = this.md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\r\n      a = this.md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\r\n      d = this.md5ii(d, a, b, c, x[i + 15], 10, -30611744);\r\n      c = this.md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\r\n      b = this.md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\r\n      a = this.md5ii(a, b, c, d, x[i + 4], 6, -145523070);\r\n      d = this.md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\r\n      c = this.md5ii(c, d, a, b, x[i + 2], 15, 718787259);\r\n      b = this.md5ii(b, c, d, a, x[i + 9], 21, -343485551);\r\n\r\n      a = this.safeAdd(a, olda);\r\n      b = this.safeAdd(b, oldb);\r\n      c = this.safeAdd(c, oldc);\r\n      d = this.safeAdd(d, oldd);\r\n    }\r\n    return [a, b, c, d];\r\n  },\r\n  binl2rstr(input) {\r\n    var i;\r\n    var output = '';\r\n    var length32 = input.length * 32;\r\n    for (i = 0; i < length32; i += 8) {\r\n      output += String.fromCharCode((input[i >> 5] >>> (i % 32)) & 0xff);\r\n    }\r\n    return output;\r\n  },\r\n  rstr2binl(input) {\r\n    var i;\r\n    var output = [];\r\n    output[(input.length >> 2) - 1] = undefined;\r\n    for (i = 0; i < output.length; i += 1) {\r\n      output[i] = 0;\r\n    }\r\n    var length8 = input.length * 8;\r\n    for (i = 0; i < length8; i += 8) {\r\n      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xff) << (i % 32);\r\n    }\r\n    return output;\r\n  },\r\n  rstrMD5(s) {\r\n    return this.binl2rstr(this.binlMD5(this.rstr2binl(s), s.length * 8));\r\n  },\r\n  rstrHMACMD5(key, data) {\r\n    var i;\r\n    var bkey = this.rstr2binl(key);\r\n    var ipad = [];\r\n    var opad = [];\r\n    var hash;\r\n    ipad[15] = opad[15] = undefined;\r\n    if (bkey.length > 16) {\r\n      bkey = this.binlMD5(bkey, key.length * 8);\r\n    }\r\n    for (i = 0; i < 16; i += 1) {\r\n      ipad[i] = bkey[i] ^ 0x36363636;\r\n      opad[i] = bkey[i] ^ 0x5c5c5c5c;\r\n    }\r\n    hash = this.binlMD5(ipad.concat(this.rstr2binl(data)), 512 + data.length * 8);\r\n    return this.binl2rstr(this.binlMD5(opad.concat(hash), 512 + 128));\r\n  },\r\n  rstr2hex(input) {\r\n    var hexTab = '0123456789abcdef';\r\n    var output = '';\r\n    var x;\r\n    var i;\r\n    for (i = 0; i < input.length; i += 1) {\r\n      x = input.charCodeAt(i);\r\n      output += hexTab.charAt((x >>> 4) & 0x0f) + hexTab.charAt(x & 0x0f);\r\n    }\r\n    return output;\r\n  },\r\n  str2rstrUTF8(input) {\r\n    return unescape(encodeURIComponent(input));\r\n  },\r\n  rawMD5(s) {\r\n    return this.rstrMD5(this.str2rstrUTF8(s));\r\n  },\r\n  hexMD5(s) {\r\n    return this.rstr2hex(this.rawMD5(s));\r\n  },\r\n  rawHMACMD5(k, d) {\r\n    return this.rstrHMACMD5(this.str2rstrUTF8(k), str2rstrUTF8(d));\r\n  },\r\n  hexHMACMD5(k, d) {\r\n    return this.rstr2hex(this.rawHMACMD5(k, d));\r\n  },\r\n\r\n  md5(string, key, raw) {\r\n    if (!key) {\r\n      if (!raw) {\r\n        return this.hexMD5(string);\r\n      }\r\n      return this.rawMD5(string);\r\n    }\r\n    if (!raw) {\r\n      return this.hexHMACMD5(key, string);\r\n    }\r\n    return this.rawHMACMD5(key, string);\r\n  },\r\n  /**\r\n   * 得到md5加密后的sig参数\r\n   * @param {Object} requestParam 接口参数\r\n   * @param {String} sk签名字符串\r\n   * @param {String} featrue 方法名\r\n   * @return 返回加密后的sig参数\r\n   */\r\n  getSig(requestParam, sk, feature, mode) {\r\n    var sig = null;\r\n    var requestArr = [];\r\n    Object.keys(requestParam).sort().forEach(function(key){\r\n      requestArr.push(key + '=' + requestParam[key]);\r\n    });\r\n    if (feature == 'search') {\r\n      sig = '/ws/place/v1/search?' + requestArr.join('&') + sk;\r\n    }\r\n    if (feature == 'suggest') {\r\n      sig = '/ws/place/v1/suggestion?' + requestArr.join('&') + sk;\r\n    }\r\n    if (feature == 'reverseGeocoder') {\r\n      sig = '/ws/geocoder/v1/?' + requestArr.join('&') + sk;\r\n    }\r\n    if (feature == 'geocoder') {\r\n      sig = '/ws/geocoder/v1/?' + requestArr.join('&') + sk;\r\n    }\r\n    if (feature == 'getCityList') {\r\n      sig = '/ws/district/v1/list?' + requestArr.join('&') + sk;\r\n    }\r\n    if (feature == 'getDistrictByCityId') {\r\n      sig = '/ws/district/v1/getchildren?' + requestArr.join('&') + sk;\r\n    }\r\n    if (feature == 'calculateDistance') {\r\n      sig = '/ws/distance/v1/?' + requestArr.join('&') + sk;\r\n    }\r\n    if (feature == 'direction') {\r\n      sig = '/ws/direction/v1/' + mode + '?' + requestArr.join('&') + sk;\r\n    }\r\n    sig = this.md5(sig);\r\n    return sig;\r\n  },\r\n    /**\r\n     * 得到终点query字符串\r\n     * @param {Array|String} 检索数据\r\n     */\r\n    location2query(data) {\r\n        if (typeof data == 'string') {\r\n            return data;\r\n        }\r\n        var query = '';\r\n        for (var i = 0; i < data.length; i++) {\r\n            var d = data[i];\r\n            if (!!query) {\r\n                query += ';';\r\n            }\r\n            if (d.location) {\r\n                query = query + d.location.lat + ',' + d.location.lng;\r\n            }\r\n            if (d.latitude && d.longitude) {\r\n                query = query + d.latitude + ',' + d.longitude;\r\n            }\r\n        }\r\n        return query;\r\n    },\r\n\r\n    /**\r\n     * 计算角度\r\n     */\r\n    rad(d) {\r\n      return d * Math.PI / 180.0;\r\n    },  \r\n    /**\r\n     * 处理终点location数组\r\n     * @return 返回终点数组\r\n     */\r\n    getEndLocation(location){\r\n      var to = location.split(';');\r\n      var endLocation = [];\r\n      for (var i = 0; i < to.length; i++) {\r\n        endLocation.push({\r\n          lat: parseFloat(to[i].split(',')[0]),\r\n          lng: parseFloat(to[i].split(',')[1])\r\n        })\r\n      }\r\n      return endLocation;\r\n    },\r\n\r\n    /**\r\n     * 计算两点间直线距离\r\n     * @param a 表示纬度差\r\n     * @param b 表示经度差\r\n     * @return 返回的是距离，单位m\r\n     */\r\n    getDistance(latFrom, lngFrom, latTo, lngTo) {\r\n      var radLatFrom = this.rad(latFrom);\r\n      var radLatTo = this.rad(latTo);\r\n      var a = radLatFrom - radLatTo;\r\n      var b = this.rad(lngFrom) - this.rad(lngTo);\r\n      var distance = 2 * Math.asin(Math.sqrt(Math.pow(Math.sin(a / 2), 2) + Math.cos(radLatFrom) * Math.cos(radLatTo) * Math.pow(Math.sin(b / 2), 2)));\r\n      distance = distance * EARTH_RADIUS;\r\n      distance = Math.round(distance * 10000) / 10000;\r\n      return parseFloat(distance.toFixed(0));\r\n    },\r\n    /**\r\n     * 使用微信接口进行定位\r\n     */\r\n    getWXLocation(success, fail, complete) {\r\n        wx.getLocation({\r\n            type: 'gcj02',\r\n            success: success,\r\n            fail: fail,\r\n            complete: complete\r\n        });\r\n    },\r\n\r\n    /**\r\n     * 获取location参数\r\n     */\r\n    getLocationParam(location) {\r\n        if (typeof location == 'string') {\r\n            var locationArr = location.split(',');\r\n            if (locationArr.length === 2) {\r\n                location = {\r\n                    latitude: location.split(',')[0],\r\n                    longitude: location.split(',')[1]\r\n                };\r\n            } else {\r\n                location = {};\r\n            }\r\n        }\r\n        return location;\r\n    },\r\n\r\n    /**\r\n     * 回调函数默认处理\r\n     */\r\n    polyfillParam(param) {\r\n        param.success = param.success || function () { };\r\n        param.fail = param.fail || function () { };\r\n        param.complete = param.complete || function () { };\r\n    },\r\n\r\n    /**\r\n     * 验证param对应的key值是否为空\r\n     * \r\n     * @param {Object} param 接口参数\r\n     * @param {String} key 对应参数的key\r\n     */\r\n    checkParamKeyEmpty(param, key) {\r\n        if (!param[key]) {\r\n            var errconf = this.buildErrorConfig(ERROR_CONF.PARAM_ERR, ERROR_CONF.PARAM_ERR_MSG + key +'参数格式有误');\r\n            param.fail(errconf);\r\n            param.complete(errconf);\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * 验证参数中是否存在检索词keyword\r\n     * \r\n     * @param {Object} param 接口参数\r\n     */\r\n    checkKeyword(param){\r\n        return !this.checkParamKeyEmpty(param, 'keyword');\r\n    },\r\n\r\n    /**\r\n     * 验证location值\r\n     * \r\n     * @param {Object} param 接口参数\r\n     */\r\n    checkLocation(param) {\r\n        var location = this.getLocationParam(param.location);\r\n        if (!location || !location.latitude || !location.longitude) {\r\n            var errconf = this.buildErrorConfig(ERROR_CONF.PARAM_ERR, ERROR_CONF.PARAM_ERR_MSG + ' location参数格式有误');\r\n            param.fail(errconf);\r\n            param.complete(errconf);\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n\r\n    /**\r\n     * 构造错误数据结构\r\n     * @param {Number} errCode 错误码\r\n     * @param {Number} errMsg 错误描述\r\n     */\r\n    buildErrorConfig(errCode, errMsg) {\r\n        return {\r\n            status: errCode,\r\n            message: errMsg\r\n        };\r\n    },\r\n\r\n    /**\r\n     * \r\n     * 数据处理函数\r\n     * 根据传入参数不同处理不同数据\r\n     * @param {String} feature 功能名称\r\n     * search 地点搜索\r\n     * suggest关键词提示\r\n     * reverseGeocoder逆地址解析\r\n     * geocoder地址解析\r\n     * getCityList获取城市列表：父集\r\n     * getDistrictByCityId获取区县列表：子集\r\n     * calculateDistance距离计算\r\n     * @param {Object} param 接口参数\r\n     * @param {Object} data 数据\r\n     */\r\n    handleData(param,data,feature){\r\n      if (feature == 'search') {\r\n        var searchResult = data.data;\r\n        var searchSimplify = [];\r\n        for (var i = 0; i < searchResult.length; i++) {\r\n          searchSimplify.push({\r\n            id: searchResult[i].id || null,\r\n            title: searchResult[i].title || null,\r\n            latitude: searchResult[i].location && searchResult[i].location.lat || null,\r\n            longitude: searchResult[i].location && searchResult[i].location.lng || null,\r\n            address: searchResult[i].address || null,\r\n            category: searchResult[i].category || null,\r\n            tel: searchResult[i].tel || null,\r\n            adcode: searchResult[i].ad_info && searchResult[i].ad_info.adcode || null,\r\n            city: searchResult[i].ad_info && searchResult[i].ad_info.city || null,\r\n            district: searchResult[i].ad_info && searchResult[i].ad_info.district || null,\r\n            province: searchResult[i].ad_info && searchResult[i].ad_info.province || null\r\n          })\r\n        }\r\n        param.success(data, {\r\n          searchResult: searchResult,\r\n          searchSimplify: searchSimplify\r\n        })\r\n      } else if (feature == 'suggest') {\r\n        var suggestResult = data.data;\r\n        var suggestSimplify = [];\r\n        for (var i = 0; i < suggestResult.length; i++) {\r\n          suggestSimplify.push({\r\n            adcode: suggestResult[i].adcode || null,\r\n            address: suggestResult[i].address || null,\r\n            category: suggestResult[i].category || null,\r\n            city: suggestResult[i].city || null,\r\n            district: suggestResult[i].district || null,\r\n            id: suggestResult[i].id || null,\r\n            latitude: suggestResult[i].location && suggestResult[i].location.lat || null,\r\n            longitude: suggestResult[i].location && suggestResult[i].location.lng || null,\r\n            province: suggestResult[i].province || null,\r\n            title: suggestResult[i].title || null,\r\n            type: suggestResult[i].type || null\r\n          })\r\n        }\r\n        param.success(data, {\r\n          suggestResult: suggestResult,\r\n          suggestSimplify: suggestSimplify\r\n          })\r\n      } else if (feature == 'reverseGeocoder') {\r\n        var reverseGeocoderResult = data.result;\r\n        var reverseGeocoderSimplify = {\r\n          address: reverseGeocoderResult.address || null,\r\n          latitude: reverseGeocoderResult.location && reverseGeocoderResult.location.lat || null,\r\n          longitude: reverseGeocoderResult.location && reverseGeocoderResult.location.lng || null,\r\n          adcode: reverseGeocoderResult.ad_info && reverseGeocoderResult.ad_info.adcode || null,\r\n          city: reverseGeocoderResult.address_component && reverseGeocoderResult.address_component.city || null,\r\n          district: reverseGeocoderResult.address_component && reverseGeocoderResult.address_component.district || null,\r\n          nation: reverseGeocoderResult.address_component && reverseGeocoderResult.address_component.nation || null,\r\n          province: reverseGeocoderResult.address_component && reverseGeocoderResult.address_component.province || null,\r\n          street: reverseGeocoderResult.address_component && reverseGeocoderResult.address_component.street || null,\r\n          street_number: reverseGeocoderResult.address_component && reverseGeocoderResult.address_component.street_number || null,\r\n          recommend: reverseGeocoderResult.formatted_addresses && reverseGeocoderResult.formatted_addresses.recommend || null,\r\n          rough: reverseGeocoderResult.formatted_addresses && reverseGeocoderResult.formatted_addresses.rough || null\r\n        };\r\n        if (reverseGeocoderResult.pois) {//判断是否返回周边poi\r\n          var pois = reverseGeocoderResult.pois;\r\n          var poisSimplify = [];\r\n          for (var i = 0;i < pois.length;i++) {\r\n            poisSimplify.push({\r\n              id: pois[i].id || null,\r\n              title: pois[i].title || null,\r\n              latitude: pois[i].location && pois[i].location.lat || null,\r\n              longitude: pois[i].location && pois[i].location.lng || null,\r\n              address: pois[i].address || null,\r\n              category: pois[i].category || null,\r\n              adcode: pois[i].ad_info && pois[i].ad_info.adcode || null,\r\n              city: pois[i].ad_info && pois[i].ad_info.city || null,\r\n              district: pois[i].ad_info && pois[i].ad_info.district || null,\r\n              province: pois[i].ad_info && pois[i].ad_info.province || null\r\n            })\r\n          }\r\n          param.success(data,{\r\n            reverseGeocoderResult: reverseGeocoderResult,\r\n            reverseGeocoderSimplify: reverseGeocoderSimplify,\r\n            pois: pois,\r\n            poisSimplify: poisSimplify\r\n          })\r\n        } else {\r\n          param.success(data, {\r\n            reverseGeocoderResult: reverseGeocoderResult,\r\n            reverseGeocoderSimplify: reverseGeocoderSimplify\r\n          })\r\n        }\r\n      } else if (feature == 'geocoder') {\r\n        var geocoderResult = data.result;\r\n        var geocoderSimplify = {\r\n          title: geocoderResult.title || null,\r\n          latitude: geocoderResult.location && geocoderResult.location.lat || null,\r\n          longitude: geocoderResult.location && geocoderResult.location.lng || null,\r\n          adcode: geocoderResult.ad_info && geocoderResult.ad_info.adcode || null,\r\n          province: geocoderResult.address_components && geocoderResult.address_components.province || null,\r\n          city: geocoderResult.address_components && geocoderResult.address_components.city || null,\r\n          district: geocoderResult.address_components && geocoderResult.address_components.district || null,\r\n          street: geocoderResult.address_components && geocoderResult.address_components.street || null,\r\n          street_number: geocoderResult.address_components && geocoderResult.address_components.street_number || null,\r\n          level: geocoderResult.level || null\r\n        };\r\n        param.success(data,{\r\n          geocoderResult: geocoderResult,\r\n          geocoderSimplify: geocoderSimplify\r\n        });\r\n      } else if (feature == 'getCityList') {\r\n        var provinceResult = data.result[0];\r\n        var cityResult = data.result[1];\r\n        var districtResult = data.result[2];\r\n        param.success(data,{\r\n          provinceResult: provinceResult,\r\n          cityResult: cityResult,\r\n          districtResult: districtResult\r\n        });\r\n      } else if (feature == 'getDistrictByCityId') {\r\n        var districtByCity = data.result[0];\r\n        param.success(data, districtByCity);\r\n      } else if (feature == 'calculateDistance') {\r\n        var calculateDistanceResult = data.result.elements;  \r\n        var distance = [];\r\n        for (var i = 0; i < calculateDistanceResult.length; i++){\r\n          distance.push(calculateDistanceResult[i].distance);\r\n        }   \r\n        param.success(data, {\r\n          calculateDistanceResult: calculateDistanceResult,\r\n          distance: distance\r\n          });\r\n      } else if (feature == 'direction') {\r\n        var direction = data.result.routes;\r\n        param.success(data,direction);\r\n      } else {\r\n        param.success(data);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 构造微信请求参数，公共属性处理\r\n     * \r\n     * @param {Object} param 接口参数\r\n     * @param {Object} param 配置项\r\n     * @param {String} feature 方法名\r\n     */\r\n    buildWxRequestConfig(param, options, feature) {\r\n        var that = this;\r\n        options.header = { \"content-type\": \"application/json\" };\r\n        options.method = 'GET';\r\n        options.success = function (res) {\r\n            var data = res.data;\r\n            if (data.status === 0) {\r\n              that.handleData(param, data, feature);\r\n            } else {\r\n                param.fail(data);\r\n            }\r\n        };\r\n        options.fail = function (res) {\r\n            res.statusCode = ERROR_CONF.WX_ERR_CODE;\r\n            param.fail(that.buildErrorConfig(ERROR_CONF.WX_ERR_CODE, res.errMsg));\r\n        };\r\n        options.complete = function (res) {\r\n            var statusCode = +res.statusCode;\r\n            switch(statusCode) {\r\n                case ERROR_CONF.WX_ERR_CODE: {\r\n                    param.complete(that.buildErrorConfig(ERROR_CONF.WX_ERR_CODE, res.errMsg));\r\n                    break;\r\n                }\r\n                case ERROR_CONF.WX_OK_CODE: {\r\n                    var data = res.data;\r\n                    if (data.status === 0) {\r\n                        param.complete(data);\r\n                    } else {\r\n                        param.complete(that.buildErrorConfig(data.status, data.message));\r\n                    }\r\n                    break;\r\n                }\r\n                default:{\r\n                    param.complete(that.buildErrorConfig(ERROR_CONF.SYSTEM_ERR, ERROR_CONF.SYSTEM_ERR_MSG));\r\n                }\r\n\r\n            }\r\n        };\r\n        return options;\r\n    },\r\n\r\n    /**\r\n     * 处理用户参数是否传入坐标进行不同的处理\r\n     */\r\n    locationProcess(param, locationsuccess, locationfail, locationcomplete) {\r\n        var that = this;\r\n        locationfail = locationfail || function (res) {\r\n            res.statusCode = ERROR_CONF.WX_ERR_CODE;\r\n            param.fail(that.buildErrorConfig(ERROR_CONF.WX_ERR_CODE, res.errMsg));\r\n        };\r\n        locationcomplete = locationcomplete || function (res) {\r\n            if (res.statusCode == ERROR_CONF.WX_ERR_CODE) {\r\n                param.complete(that.buildErrorConfig(ERROR_CONF.WX_ERR_CODE, res.errMsg));\r\n            }\r\n        };\r\n        if (!param.location) {\r\n            that.getWXLocation(locationsuccess, locationfail, locationcomplete);\r\n        } else if (that.checkLocation(param)) {\r\n            var location = Utils.getLocationParam(param.location);\r\n            locationsuccess(location);\r\n        }\r\n    }\r\n};\r\n\r\n\r\nclass QQMapWX {\r\n\r\n    /**\r\n     * 构造函数\r\n     * \r\n     * @param {Object} options 接口参数,key 为必选参数\r\n     */\r\n    constructor(options) {\r\n        if (!options.key) {\r\n            throw Error('key值不能为空');\r\n        }\r\n        this.key = options.key;\r\n    };\r\n\r\n    /**\r\n     * POI周边检索\r\n     *\r\n     * @param {Object} options 接口参数对象\r\n     * \r\n     * 参数对象结构可以参考\r\n     * @see http://lbs.qq.com/webservice_v1/guide-search.html\r\n     */\r\n    search(options) {\r\n        var that = this;\r\n        options = options || {};\r\n\r\n        Utils.polyfillParam(options);\r\n\r\n        if (!Utils.checkKeyword(options)) {\r\n            return;\r\n        }\r\n\r\n        var requestParam = {\r\n            keyword: options.keyword,\r\n            orderby: options.orderby || '_distance',\r\n            page_size: options.page_size || 10,\r\n            page_index: options.page_index || 1,\r\n            output: 'json',\r\n            key: that.key\r\n        };\r\n\r\n        if (options.address_format) {\r\n            requestParam.address_format = options.address_format;\r\n        }\r\n\r\n        if (options.filter) {\r\n            requestParam.filter = options.filter;\r\n        }\r\n\r\n        var distance = options.distance || \"1000\";\r\n        var auto_extend = options.auto_extend || 1;\r\n        var region = null;\r\n        var rectangle = null;\r\n\r\n        //判断城市限定参数\r\n        if (options.region) {\r\n          region = options.region;\r\n        }\r\n\r\n        //矩形限定坐标(暂时只支持字符串格式)\r\n        if (options.rectangle) {\r\n          rectangle = options.rectangle;\r\n        }\r\n\r\n        var locationsuccess = function (result) {        \r\n          if (region && !rectangle) {\r\n            //城市限定参数拼接\r\n            requestParam.boundary = \"region(\" + region + \",\" + auto_extend + \",\" + result.latitude + \",\" + result.longitude + \")\";\r\n            if (options.sig) {\r\n              requestParam.sig = Utils.getSig(requestParam, options.sig, 'search');\r\n            }\r\n          } else if (rectangle && !region) {\r\n            //矩形搜索\r\n            requestParam.boundary = \"rectangle(\" + rectangle + \")\";\r\n            if (options.sig) {\r\n              requestParam.sig = Utils.getSig(requestParam, options.sig, 'search');\r\n            }\r\n            } else {\r\n              requestParam.boundary = \"nearby(\" + result.latitude + \",\" + result.longitude + \",\" + distance + \",\" + auto_extend + \")\";\r\n            if (options.sig) {\r\n              requestParam.sig = Utils.getSig(requestParam, options.sig, 'search');\r\n            }\r\n            }            \r\n            wx.request(Utils.buildWxRequestConfig(options, {\r\n                url: URL_SEARCH,\r\n                data: requestParam\r\n            }, 'search'));\r\n        };\r\n        Utils.locationProcess(options, locationsuccess);\r\n    };\r\n\r\n    /**\r\n     * sug模糊检索\r\n     *\r\n     * @param {Object} options 接口参数对象\r\n     * \r\n     * 参数对象结构可以参考\r\n     * http://lbs.qq.com/webservice_v1/guide-suggestion.html\r\n     */\r\n    getSuggestion(options) {\r\n        var that = this;\r\n        options = options || {};\r\n        Utils.polyfillParam(options);\r\n\r\n        if (!Utils.checkKeyword(options)) {\r\n            return;\r\n        }\r\n\r\n        var requestParam = {\r\n            keyword: options.keyword,\r\n            region: options.region || '全国',\r\n            region_fix: options.region_fix || 0,\r\n            policy: options.policy || 0,\r\n            page_size: options.page_size || 10,//控制显示条数\r\n            page_index: options.page_index || 1,//控制页数\r\n            get_subpois : options.get_subpois || 0,//返回子地点\r\n            output: 'json',\r\n            key: that.key\r\n        };\r\n        //长地址\r\n        if (options.address_format) {\r\n          requestParam.address_format = options.address_format;\r\n        }\r\n        //过滤\r\n        if (options.filter) {\r\n          requestParam.filter = options.filter;\r\n        }\r\n        //排序\r\n        if (options.location) {\r\n          var locationsuccess = function (result) {\r\n            requestParam.location = result.latitude + ',' + result.longitude;\r\n            if (options.sig) {\r\n              requestParam.sig = Utils.getSig(requestParam, options.sig, 'suggest');\r\n            }\r\n            wx.request(Utils.buildWxRequestConfig(options, {\r\n              url: URL_SUGGESTION,\r\n              data: requestParam\r\n            }, \"suggest\"));      \r\n          };\r\n          Utils.locationProcess(options, locationsuccess);\r\n        } else {\r\n          if (options.sig) {\r\n            requestParam.sig = Utils.getSig(requestParam, options.sig, 'suggest');\r\n          }\r\n          wx.request(Utils.buildWxRequestConfig(options, {\r\n            url: URL_SUGGESTION,\r\n            data: requestParam\r\n          }, \"suggest\"));      \r\n        }        \r\n    };\r\n\r\n    /**\r\n     * 逆地址解析\r\n     *\r\n     * @param {Object} options 接口参数对象\r\n     * \r\n     * 请求参数结构可以参考\r\n     * http://lbs.qq.com/webservice_v1/guide-gcoder.html\r\n     */\r\n    reverseGeocoder(options) {\r\n        var that = this;\r\n        options = options || {};\r\n        Utils.polyfillParam(options);\r\n        var requestParam = {\r\n            coord_type: options.coord_type || 5,\r\n            get_poi: options.get_poi || 0,\r\n            output: 'json',\r\n            key: that.key\r\n        };\r\n        if (options.poi_options) {\r\n            requestParam.poi_options = options.poi_options\r\n        }\r\n\r\n        var locationsuccess = function (result) {\r\n            requestParam.location = result.latitude + ',' + result.longitude;\r\n          if (options.sig) {\r\n            requestParam.sig = Utils.getSig(requestParam, options.sig, 'reverseGeocoder');\r\n          }\r\n            wx.request(Utils.buildWxRequestConfig(options, {\r\n                url: URL_GET_GEOCODER,\r\n                data: requestParam\r\n            }, 'reverseGeocoder'));\r\n        };\r\n        Utils.locationProcess(options, locationsuccess);\r\n    };\r\n\r\n    /**\r\n     * 地址解析\r\n     *\r\n     * @param {Object} options 接口参数对象\r\n     * \r\n     * 请求参数结构可以参考\r\n     * http://lbs.qq.com/webservice_v1/guide-geocoder.html\r\n     */\r\n    geocoder(options) {\r\n        var that = this;\r\n        options = options || {};\r\n        Utils.polyfillParam(options);\r\n\r\n        if (Utils.checkParamKeyEmpty(options, 'address')) {\r\n            return;\r\n        }\r\n\r\n        var requestParam = {\r\n            address: options.address,\r\n            output: 'json',\r\n            key: that.key\r\n        };\r\n\r\n        //城市限定\r\n        if (options.region) {\r\n          requestParam.region = options.region;\r\n        }\r\n\r\n        if (options.sig) {\r\n          requestParam.sig = Utils.getSig(requestParam, options.sig, 'geocoder');\r\n        }\r\n\r\n        wx.request(Utils.buildWxRequestConfig(options, {\r\n            url: URL_GET_GEOCODER,\r\n            data: requestParam\r\n        },'geocoder'));\r\n    };\r\n\r\n\r\n    /**\r\n     * 获取城市列表\r\n     *\r\n     * @param {Object} options 接口参数对象\r\n     * \r\n     * 请求参数结构可以参考\r\n     * http://lbs.qq.com/webservice_v1/guide-region.html\r\n     */\r\n    getCityList(options) {\r\n        var that = this;\r\n        options = options || {};\r\n        Utils.polyfillParam(options);\r\n        var requestParam = {\r\n            output: 'json',\r\n            key: that.key\r\n        };\r\n\r\n        if (options.sig) {\r\n          requestParam.sig = Utils.getSig(requestParam, options.sig, 'getCityList');\r\n        }\r\n\r\n        wx.request(Utils.buildWxRequestConfig(options, {\r\n            url: URL_CITY_LIST,\r\n            data: requestParam\r\n        },'getCityList'));\r\n    };\r\n\r\n    /**\r\n     * 获取对应城市ID的区县列表\r\n     *\r\n     * @param {Object} options 接口参数对象\r\n     * \r\n     * 请求参数结构可以参考\r\n     * http://lbs.qq.com/webservice_v1/guide-region.html\r\n     */\r\n    getDistrictByCityId(options) {\r\n        var that = this;\r\n        options = options || {};\r\n        Utils.polyfillParam(options);\r\n\r\n        if (Utils.checkParamKeyEmpty(options, 'id')) {\r\n            return;\r\n        }\r\n\r\n        var requestParam = {\r\n            id: options.id || '',\r\n            output: 'json',\r\n            key: that.key\r\n        };\r\n\r\n        if (options.sig) {\r\n          requestParam.sig = Utils.getSig(requestParam, options.sig, 'getDistrictByCityId');\r\n        }\r\n\r\n        wx.request(Utils.buildWxRequestConfig(options, {\r\n            url: URL_AREA_LIST,\r\n            data: requestParam\r\n        },'getDistrictByCityId'));\r\n    };\r\n\r\n    /**\r\n     * 用于单起点到多终点的路线距离(非直线距离)计算：\r\n     * 支持两种距离计算方式：步行和驾车。\r\n     * 起点到终点最大限制直线距离10公里。\r\n     *\r\n     * 新增直线距离计算。\r\n     * \r\n     * @param {Object} options 接口参数对象\r\n     * \r\n     * 请求参数结构可以参考\r\n     * http://lbs.qq.com/webservice_v1/guide-distance.html\r\n     */\r\n    calculateDistance(options) {\r\n        var that = this;\r\n        options = options || {};\r\n        Utils.polyfillParam(options);\r\n\r\n        if (Utils.checkParamKeyEmpty(options, 'to')) {\r\n            return;\r\n        }\r\n\r\n        var requestParam = {\r\n            mode: options.mode || 'walking',\r\n            to: Utils.location2query(options.to),\r\n            output: 'json',\r\n            key: that.key\r\n        };\r\n\r\n        if (options.from) {\r\n          options.location = options.from;\r\n        }\r\n\r\n        //计算直线距离\r\n        if(requestParam.mode == 'straight'){        \r\n          var locationsuccess = function (result) {\r\n            var locationTo = Utils.getEndLocation(requestParam.to);//处理终点坐标\r\n            var data = {\r\n              message:\"query ok\",\r\n              result:{\r\n                elements:[]\r\n              },\r\n              status:0\r\n            };\r\n            for (var i = 0; i < locationTo.length; i++) {\r\n              data.result.elements.push({//将坐标存入\r\n                distance: Utils.getDistance(result.latitude, result.longitude, locationTo[i].lat, locationTo[i].lng),\r\n                duration:0,\r\n                from:{\r\n                  lat: result.latitude,\r\n                  lng:result.longitude\r\n                },\r\n                to:{\r\n                  lat: locationTo[i].lat,\r\n                  lng: locationTo[i].lng\r\n                }\r\n              });            \r\n            }\r\n            var calculateResult = data.result.elements;\r\n            var distanceResult = [];\r\n            for (var i = 0; i < calculateResult.length; i++) {\r\n              distanceResult.push(calculateResult[i].distance);\r\n            }  \r\n            return options.success(data,{\r\n              calculateResult: calculateResult,\r\n              distanceResult: distanceResult\r\n            });\r\n          };\r\n          \r\n          Utils.locationProcess(options, locationsuccess);\r\n        } else {\r\n          var locationsuccess = function (result) {\r\n            requestParam.from = result.latitude + ',' + result.longitude;\r\n            if (options.sig) {\r\n              requestParam.sig = Utils.getSig(requestParam, options.sig, 'calculateDistance');\r\n            }\r\n            wx.request(Utils.buildWxRequestConfig(options, {\r\n              url: URL_DISTANCE,\r\n              data: requestParam\r\n            },'calculateDistance'));\r\n          };\r\n\r\n          Utils.locationProcess(options, locationsuccess);\r\n        }      \r\n    };\r\n\r\n  /**\r\n   * 路线规划：\r\n   * \r\n   * @param {Object} options 接口参数对象\r\n   * \r\n   * 请求参数结构可以参考\r\n   * https://lbs.qq.com/webservice_v1/guide-road.html\r\n   */\r\n  direction(options) {\r\n    var that = this;\r\n    options = options || {};\r\n    Utils.polyfillParam(options);\r\n\r\n    if (Utils.checkParamKeyEmpty(options, 'to')) {\r\n      return;\r\n    }\r\n\r\n    var requestParam = {\r\n      output: 'json',\r\n      key: that.key\r\n    };\r\n\r\n    //to格式处理\r\n    if (typeof options.to == 'string') {\r\n      requestParam.to = options.to;\r\n    } else {\r\n      requestParam.to = options.to.latitude + ',' + options.to.longitude;\r\n    }\r\n    //初始化局部请求域名\r\n    var SET_URL_DIRECTION = null;\r\n    //设置默认mode属性\r\n    options.mode = options.mode || MODE.driving;\r\n\r\n    //设置请求域名\r\n    SET_URL_DIRECTION = URL_DIRECTION + options.mode;\r\n\r\n    if (options.from) {\r\n      options.location = options.from;\r\n    }\r\n\r\n    if (options.mode == MODE.driving) {\r\n      if (options.from_poi) {\r\n        requestParam.from_poi = options.from_poi;\r\n      }\r\n      if (options.heading) {\r\n        requestParam.heading = options.heading;\r\n      }\r\n      if (options.speed) {\r\n        requestParam.speed = options.speed;\r\n      }\r\n      if (options.accuracy) {\r\n        requestParam.accuracy = options.accuracy;\r\n      }\r\n      if (options.road_type) {\r\n        requestParam.road_type = options.road_type;\r\n      }\r\n      if (options.to_poi) {\r\n        requestParam.to_poi = options.to_poi;\r\n      }\r\n      if (options.from_track) {\r\n        requestParam.from_track = options.from_track;\r\n      }\r\n      if (options.waypoints) {\r\n        requestParam.waypoints = options.waypoints;\r\n      }\r\n      if (options.policy) {\r\n        requestParam.policy = options.policy;\r\n      }\r\n      if (options.plate_number) {\r\n        requestParam.plate_number = options.plate_number;\r\n      }\r\n    }\r\n\r\n    if (options.mode == MODE.transit) {\r\n      if (options.departure_time) {\r\n        requestParam.departure_time = options.departure_time;\r\n      }\r\n      if (options.policy) {\r\n        requestParam.policy = options.policy;\r\n      }\r\n    } \r\n\r\n    var locationsuccess = function (result) {\r\n      requestParam.from = result.latitude + ',' + result.longitude;\r\n      if (options.sig) {\r\n        requestParam.sig = Utils.getSig(requestParam, options.sig, 'direction',options.mode);\r\n      }\r\n      wx.request(Utils.buildWxRequestConfig(options, {\r\n        url: SET_URL_DIRECTION,\r\n        data: requestParam\r\n      }, 'direction'));\r\n    };\r\n\r\n    Utils.locationProcess(options, locationsuccess);\r\n  }\r\n};\r\n\r\nmodule.exports = QQMapWX;"],"sourceRoot":""}